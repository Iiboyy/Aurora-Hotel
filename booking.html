<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aurora Hotel - Booking</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --brand: #1B263B;
            --brand-light: #415A77;
            --accent: #C9A44C;
            --accent-dark: #b38b2c;
            --light-bg: #f9f9f9;
            --dark-text: #0B0B15;
            --light-text: #777;
            --white: #ffffff;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            color: var(--dark-text);
            background: var(--light-bg);
            line-height: 1.6;
        }
        
        /* Header */
        .booking-header {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('https://images.unsplash.com/photo-1566073771259-6a8506099945?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1770&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 100px 0 60px;
            text-align: center;
        }
        
        /* Booking Container */
        .booking-container {
            margin-top: -50px;
            position: relative;
            z-index: 10;
        }
        
        .booking-card {
            background: var(--white);
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            overflow: hidden;
        }
        
        /* Form Styling */
        .form-section {
            padding: 30px;
        }
        
        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--brand);
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--accent);
        }
        
        .form-label {
            font-weight: 500;
            color: var(--dark-text);
            margin-bottom: 8px;
        }
        
        .form-control, .form-select {
            padding: 12px 15px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            transition: all 0.3s;
        }
        
        .form-control:focus, .form-select:focus {
            border-color: var(--brand);
            box-shadow: 0 0 0 0.25rem rgba(27, 38, 59, 0.15);
        }
        
        /* Room Selection */
        .room-option {
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .room-option:hover {
            border-color: var(--brand);
            transform: translateY(-3px);
        }
        
        .room-option.selected {
            border-color: var(--accent);
            background: rgba(201, 164, 76, 0.05);
        }
        
        .room-type {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--brand);
        }
        
        .room-price {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--accent);
        }
        
        .room-features {
            list-style: none;
            padding: 0;
            margin: 15px 0;
        }
        
        .room-features li {
            margin-bottom: 8px;
            color: var(--light-text);
        }
        
        .room-features li i {
            color: var(--accent);
            margin-right: 10px;
        }
        
        .room-description {
            color: var(--light-text);
            margin-bottom: 15px;
            font-style: italic;
        }
        
        /* Summary Section */
        .summary-section {
            background: var(--brand);
            color: var(--white);
            padding: 30px;
            height: 100%;
        }
        
        .summary-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 25px;
        }
        
        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .summary-total {
            display: flex;
            justify-content: space-between;
            font-size: 1.3rem;
            font-weight: 700;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px solid rgba(255, 255, 255, 0.3);
        }
        
        /* Datepicker Styling */
        .input-group-text {
            background: white;
            border: 2px solid #e2e8f0;
            border-left: none;
        }
        
        .input-group .form-control {
            border-right: none;
        }
        
        /* Step Progress */
        .step-progress {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            position: relative;
        }

        .progress-bar {
        position: absolute;
        top: 20px;
        left: 0;
        height: 4px;
        background: var(--accent);
        z-index: 2;
        transition: width 0.5s;
        width: 0%; 
}
        
        .step-progress::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            height: 4px;
            background: #e2e8f0;
            z-index: 1;
        }
        
        .step-progress::after {
        display: none;
        }

        .step {
            position: relative;
            z-index: 3;
            text-align: center;
            width: 25%;
        }
        
        .step-icon {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: #e2e8f0;
            color: var(--light-text);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .step.active .step-icon {
            background: var(--accent);
            color: white;
        }
        
        .step.completed .step-icon {
            background: var(--brand);
            color: white;
        }
        
        .step-text {
            font-size: 0.9rem;
            color: var(--light-text);
        }
        
        .step.active .step-text {
            color: var(--brand);
            font-weight: 600;
        }
        
        /* Button Styling */
        .btn-primary {
            background: var(--brand);
            border: none;
            padding: 12px 25px;
            font-weight: 600;
            border-radius: 8px;
            transition: all 0.3s;
        }
        
        .btn-primary:hover {
            background: var(--brand-light);
            transform: translateY(-2px);
        }
        
        .btn-outline-primary {
            border: 2px solid var(--brand);
            color: var(--brand);
            padding: 10px 25px;
            font-weight: 600;
            border-radius: 8px;
            transition: all 0.3s;
        }
        
        .btn-outline-primary:hover {
            background: var(--brand);
            color: white;
        }
        
        /* Step Navigation */
        .step-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        /* Step Content */
        .step-content {
            display: none;
        }
        
        .step-content.active {
            display: block;
        }
        
        /* Confirmation Section */
        .confirmation-details {
            background: var(--light-bg);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .confirmation-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .confirmation-label {
            font-weight: 600;
            color: var(--brand);
        }
        
        /* Success Screen */
        .success-screen {
            text-align: center;
            padding: 40px 20px;
        }
        
        .success-icon {
            font-size: 5rem;
            color: var(--accent);
            margin-bottom: 20px;
        }
        
        /* Responsive Design */
        @media (max-width: 992px) {
            .summary-section {
                margin-top: 30px;
            }
        }
        
        @media (max-width: 768px) {
            .booking-header {
                padding: 80px 0 40px;
            }
            
            .step-text {
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="booking-header">
        <div class="container">
            <h1 class="display-4 fw-bold">Reservasi Kamar</h1>
            <p class="lead">Lengkapi form berikut untuk melakukan pemesanan kamar di Aurora Hotel</p>
        </div>
    </header>

    <!-- Booking Container -->
    <div class="container booking-container">
        <!-- Step Progress -->
        <div class="step-progress mb-5">
            <div class="progress-bar"></div>
            <div class="step active" data-step="1">
                <div class="step-icon">1</div>
                <div class="step-text">Pilih Kamar</div>
            </div>
            <div class="step" data-step="2">
                <div class="step-icon">2</div>
                <div class="step-text">Data Tamu</div>
            </div>
            <div class="step" data-step="3">
                <div class="step-icon">3</div>
                <div class="step-text">Konfirmasi</div>
            </div>
            <div class="step" data-step="4">
                <div class="step-icon">4</div>
                <div class="step-text">Selesai</div>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-8">
                <div class="booking-card">
                    <!-- Step 1: Room Selection -->
                    <div class="step-content active" id="step-1">
                        <div class="form-section">
                            <h3 class="section-title">Pilih Tipe Kamar</h3>
                            
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <label for="checkin" class="form-label">Check-in</label>
                                    <div class="input-group">
                                        <input type="date" class="form-control" id="checkin" required>
                                        <span class="input-group-text"><i class="fas fa-calendar-alt"></i></span>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <label for="checkout" class="form-label">Check-out</label>
                                    <div class="input-group">
                                        <input type="date" class="form-control" id="checkout" required>
                                        <span class="input-group-text"><i class="fas fa-calendar-alt"></i></span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <label for="adults" class="form-label">Dewasa</label>
                                    <select class="form-select" id="adults">
                                        <option value="1">1 Dewasa</option>
                                        <option value="2" selected>2 Dewasa</option>
                                        <option value="3">3 Dewasa</option>
                                        <option value="4">4 Dewasa</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <label for="children" class="form-label">Anak-anak</label>
                                    <select class="form-select" id="children">
                                        <option value="0" selected>0 Anak</option>
                                        <option value="1">1 Anak</option>
                                        <option value="2">2 Anak</option>
                                        <option value="3">3 Anak</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div id="room-selection">
                                <!-- Room options will be dynamically generated here -->
                            </div>
                        </div>
                        
                        <div class="form-section border-top step-navigation">
                            <button type="button" class="btn btn-outline-primary" disabled>Kembali</button>
                            <button type="button" class="btn btn-primary" id="next-to-step-2">Lanjutkan</button>
                        </div>
                    </div>
                    
                    <!-- Step 2: Guest Information -->
                    <div class="step-content" id="step-2">
                        <div class="form-section">
                            <h3 class="section-title">Data Tamu</h3>
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="firstName" class="form-label">Nama Depan</label>
                                    <input type="text" class="form-control" id="firstName" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="lastName" class="form-label">Nama Belakang</label>
                                    <input type="text" class="form-control" id="lastName" required>
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="email" class="form-label">Email</label>
                                    <input type="email" class="form-control" id="email" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="phone" class="form-label">Nomor Telepon</label>
                                    <input type="tel" class="form-control" id="phone" required>
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <label for="specialRequests" class="form-label">Permintaan Khusus (opsional)</label>
                                <textarea class="form-control" id="specialRequests" rows="3" placeholder="Permintaan tempat tidur tambahan, makanan khusus, dll."></textarea>
                            </div>
                        </div>
                        
                        <div class="form-section border-top step-navigation">
                            <button type="button" class="btn btn-outline-primary" id="back-to-step-1">Kembali</button>
                            <button type="button" class="btn btn-primary" id="next-to-step-3">Lanjutkan</button>
                        </div>
                    </div>
                    
                    <!-- Step 3: Confirmation -->
                    <div class="step-content" id="step-3">
                        <div class="form-section">
                            <h3 class="section-title">Konfirmasi Pemesanan</h3>
                            
                            <div class="confirmation-details">
                                <h4 class="mb-4">Detail Pemesanan</h4>
                                
                                <div class="confirmation-item">
                                    <span class="confirmation-label">Tipe Kamar:</span>
                                    <span id="confirm-room-type">-</span>
                                </div>
                                
                                <div class="confirmation-item">
                                    <span class="confirmation-label">Durasi Menginap:</span>
                                    <span id="confirm-nights">-</span>
                                </div>
                                
                                <div class="confirmation-item">
                                    <span class="confirmation-label">Check-in:</span>
                                    <span id="confirm-checkin">-</span>
                                </div>
                                
                                <div class="confirmation-item">
                                    <span class="confirmation-label">Check-out:</span>
                                    <span id="confirm-checkout">-</span>
                                </div>
                                
                                <div class="confirmation-item">
                                    <span class="confirmation-label">Jumlah Tamu:</span>
                                    <span id="confirm-guests">-</span>
                                </div>
                                
                                <hr>
                                
                                <div class="confirmation-item">
                                    <span class="confirmation-label">Nama Pemesan:</span>
                                    <span id="confirm-name">-</span>
                                </div>
                                
                                <div class="confirmation-item">
                                    <span class="confirmation-label">Email:</span>
                                    <span id="confirm-email">-</span>
                                </div>
                                
                                <div class="confirmation-item">
                                    <span class="confirmation-label">Telepon:</span>
                                    <span id="confirm-phone">-</span>
                                </div>
                                
                                <div class="confirmation-item">
                                    <span class="confirmation-label">Permintaan Khusus:</span>
                                    <span id="confirm-requests">-</span>
                                </div>
                                
                                <hr>
                                
                                <div class="confirmation-item">
                                    <span class="confirmation-label">Total Pembayaran:</span>
                                    <span id="confirm-total" class="fw-bold">-</span>
                                </div>
                            </div>
                            
                            <div class="mt-4">
                                <h4 class="mb-3">Metode Pembayaran</h4>
                                
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="radio" name="paymentMethod" id="creditCard" checked>
                                    <label class="form-check-label" for="creditCard">
                                        Kartu Kredit / Debit
                                    </label>
                                </div>
                                
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="radio" name="paymentMethod" id="bankTransfer">
                                    <label class="form-check-label" for="bankTransfer">
                                        Transfer Bank
                                    </label>
                                </div>
                                
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="radio" name="paymentMethod" id="payAtHotel">
                                    <label class="form-check-label" for="payAtHotel">
                                        Bayar di Hotel
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-section border-top step-navigation">
                            <button type="button" class="btn btn-outline-primary" id="back-to-step-2">Kembali</button>
                            <button type="button" class="btn btn-primary" id="next-to-step-4">Konfirmasi & Bayar</button>
                        </div>
                    </div>
                    
                    <!-- Step 4: Success -->
                    <div class="step-content" id="step-4">
                        <div class="success-screen">
                            <div class="success-icon">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <h2 class="mb-3">Pemesanan Berhasil!</h2>
                            <p class="mb-4">Terima kasih telah memesan di Aurora Hotel. Detail pemesanan telah dikirim ke email Anda.</p>
                            
                            <div class="confirmation-details mx-auto" style="max-width: 500px;">
                                <h4 class="mb-3">Detail Booking</h4>
                                
                                <div class="confirmation-item">
                                    <span class="confirmation-label">Kode Booking:</span>
                                    <span id="booking-code">AUR-2023-8765</span>
                                </div>
                                
                                <div class="confirmation-item">
                                    <span class="confirmation-label">Tipe Kamar:</span>
                                    <span id="success-room-type">-</span>
                                </div>
                                
                                <div class="confirmation-item">
                                    <span class="confirmation-label">Check-in:</span>
                                    <span id="success-checkin">-</span>
                                </div>
                                
                                <div class="confirmation-item">
                                    <span class="confirmation-label">Check-out:</span>
                                    <span id="success-checkout">-</span>
                                </div>
                                
                                <div class="confirmation-item">
                                    <span class="confirmation-label">Total Pembayaran:</span>
                                    <span id="success-total" class="fw-bold">-</span>
                                </div>
                            </div>
                            
                            <div class="mt-5">
                                <button type="button" class="btn btn-primary me-3" id="print-receipt">
                                    <i class="fas fa-print me-2"></i>Cetak Bukti
                                </button>
                                <button type="button" class="btn btn-outline-primary" id="new-booking">
                                    <i class="fas fa-plus me-2"></i>Pesan Baru
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4">
                <!-- Booking Summary -->
                <div class="booking-card summary-section">
                    <h3 class="summary-title">Ringkasan Pemesanan</h3>
                    
                    <div class="summary-item">
                        <div id="summary-room-type">Superior Room</div>
                        <div id="summary-room-price">Rp 2.500.000</div>
                    </div>
                    
                    <div class="summary-item">
                        <div id="summary-nights">1 Malam</div>
                        <div id="summary-subtotal">Rp 2.500.000</div>
                    </div>
                    
                    <div class="summary-item">
                        <div>Pajak & Layanan</div>
                        <div id="summary-tax">Rp 250.000</div>
                    </div>
                    
                    <div class="summary-item">
                        <div>Diskon</div>
                        <div id="summary-discount">- Rp 500.000</div>
                    </div>
                    
                    <div class="summary-total">
                        <div>Total</div>
                        <div id="summary-total">Rp 2.250.000</div>
                    </div>
                    
                    <div class="mt-4">
                        <p><i class="fas fa-info-circle me-2"></i> Pembayaran dapat dilakukan saat check-in</p>
                        <p><i class="fas fa-shield-alt me-2"></i> Transaksi aman dan terenkripsi</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // Data kamar
    const rooms = [
        {
            type: "superior",
            name: "Superior Room",
            price: 2500000,
            description: "Ruang istirahat nyaman dengan sentuhan modern, menghadirkan pengalaman menginap berkualitas dengan harga terjangkau.",
            features: [
                "Luas ruangan: 30 m²",
                "Untuk 2 orang",
                "Sarapan gratis",
                "WiFi gratis"
            ]
        },
        {
            type: "premium",
            name: "Premium Room",
            price: 4000000,
            description: "Kamar elegan dengan desain kontemporer dan panorama indah, sempurna untuk melepas penat bersama orang terdekat.",
            features: [
                "Luas ruangan: 45 m²",
                "Untuk 2 orang",
                "Sarapan gratis",
                "WiFi gratis",
                "Balkon pribadi"
            ]
        },
        {
            type: "royal",
            name: "Royal Suite",
            price: 7500000,
            description: "Didesain eksklusif dengan fasilitas premium dan view menawan, pilihan tepat bagi pebisnis maupun wisatawan bergaya.",
            features: [
                "Luas ruangan: 60 m²",
                "Untuk 4 orang",
                "Sarapan gratis",
                "WiFi gratis",
                "Balkon dengan pemandangan kota",
                "Akses ke lounge executive"
            ]
        },
        {
            type: "presidential",
            name: "Presidential Suite",
            price: 15000000,
            description: "Simbol kemewahan sejati, dilengkapi ruang tamu megah, balkon pribadi, dan layanan eksklusif untuk pengalaman menginap tak terlupakan.",
            features: [
                "Luas ruangan: 100 m²",
                "Untuk 4 orang",
                "Sarapan gratis",
                "WiFi gratis",
                "Balkon pribadi dengan pemandangan premium",
                "Akses ke lounge executive",
                "Layanan butler 24 jam",
                "Kamar mandi mewah dengan spa"
            ]
        }
    ];

    // State untuk pemesanan
    const bookingState = {
        roomType: "superior",
        roomPrice: 2500000,
        checkIn: null,
        checkOut: null,
        nights: 1,
        adults: 2,
        children: 0,
        discountAmount: 500000,
        currentStep: 1
    };

    // DOM Elements
    const elements = {
        roomSelection: document.getElementById('room-selection'),
        checkin: document.getElementById('checkin'),
        checkout: document.getElementById('checkout'),
        adults: document.getElementById('adults'),
        children: document.getElementById('children'),
        firstName: document.getElementById('firstName'),
        lastName: document.getElementById('lastName'),
        email: document.getElementById('email'),
        phone: document.getElementById('phone'),
        specialRequests: document.getElementById('specialRequests')
    };

    // Utility Functions
    const formatDate = date => {
        const year = date.getFullYear();
        const month = String(date.getMonth() + 1).padStart(2, '0');
        const day = String(date.getDate()).padStart(2, '0');
        return `${year}-${month}-${day}`;
    };

    const formatDateDisplay = dateString => {
        const options = { day: 'numeric', month: 'long', year: 'numeric' };
        return new Date(dateString).toLocaleDateString('id-ID', options);
    };

    const formatCurrency = amount => `Rp ${amount.toLocaleString('id-ID')}`;

    const calculateNights = (checkIn, checkOut) => {
        if (!checkIn || !checkOut) return 0;
        
        const start = new Date(checkIn);
        const end = new Date(checkOut);
        
        if (isNaN(start.getTime()) || isNaN(end.getTime())) return 0;
        
        const timeDiff = end.getTime() - start.getTime();
        return Math.max(1, Math.ceil(timeDiff / (1000 * 3600 * 24)));
    };

    // Room Functions
    const generateRoomOptions = () => {
        elements.roomSelection.innerHTML = '';
        
        rooms.forEach((room, index) => {
            const isSelected = index === 0 ? 'selected' : '';
            const featuresList = room.features.map(feature => 
                `<li><i class="fas fa-check"></i> ${feature}</li>`
            ).join('');
            
            const roomOption = document.createElement('div');
            roomOption.className = `room-option ${isSelected}`;
            roomOption.dataset.roomType = room.type;
            roomOption.dataset.roomPrice = room.price;
            
            roomOption.innerHTML = `
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h4 class="room-type">${room.name}</h4>
                    <div class="room-price">${formatCurrency(room.price)} <small>/malam</small></div>
                </div>
                <p class="room-description">${room.description}</p>
                <ul class="room-features">${featuresList}</ul>
                <button type="button" class="btn btn-outline-primary btn-sm">Pilih Kamar</button>
            `;
            
            elements.roomSelection.appendChild(roomOption);
        });

        // Add event listeners to room options
        document.querySelectorAll('.room-option').forEach(option => {
            option.addEventListener('click', () => {
                document.querySelectorAll('.room-option').forEach(opt => opt.classList.remove('selected'));
                option.classList.add('selected');
                
                const roomType = option.dataset.roomType;
                const room = rooms.find(r => r.type === roomType);
                
                if (room) {
                    bookingState.roomType = room.type;
                    bookingState.roomPrice = room.price;
                    updateBookingSummary();
                }
            });
        });
    };

    // Update Functions
    const updateBookingSummary = () => {
        bookingState.nights = calculateNights(elements.checkin.value, elements.checkout.value);
        
        const subtotal = bookingState.roomPrice * bookingState.nights;
        const tax = subtotal * 0.1;
        const total = subtotal + tax - bookingState.discountAmount;
        
        const room = rooms.find(r => r.type === bookingState.roomType);
        
        document.getElementById('summary-room-type').textContent = room.name;
        document.getElementById('summary-room-price').textContent = formatCurrency(bookingState.roomPrice);
        document.getElementById('summary-nights').textContent = `${bookingState.nights} Malam`;
        document.getElementById('summary-subtotal').textContent = formatCurrency(subtotal);
        document.getElementById('summary-tax').textContent = formatCurrency(tax);
        document.getElementById('summary-discount').textContent = `- ${formatCurrency(bookingState.discountAmount)}`;
        document.getElementById('summary-total').textContent = formatCurrency(total);
    };

    const updateConfirmationDetails = () => {
        const room = rooms.find(r => r.type === bookingState.roomType);
        
        document.getElementById('confirm-room-type').textContent = room.name;
        document.getElementById('confirm-nights').textContent = `${bookingState.nights} Malam`;
        document.getElementById('confirm-checkin').textContent = formatDateDisplay(bookingState.checkIn);
        document.getElementById('confirm-checkout').textContent = formatDateDisplay(bookingState.checkOut);
        document.getElementById('confirm-guests').textContent = `${bookingState.adults} Dewasa, ${bookingState.children} Anak`;
        
        document.getElementById('confirm-name').textContent = `${elements.firstName.value} ${elements.lastName.value}`;
        document.getElementById('confirm-email').textContent = elements.email.value;
        document.getElementById('confirm-phone').textContent = elements.phone.value;
        
        const specialRequests = elements.specialRequests.value;
        document.getElementById('confirm-requests').textContent = specialRequests || 'Tidak ada';
        
        const subtotal = bookingState.roomPrice * bookingState.nights;
        const tax = subtotal * 0.1;
        const total = subtotal + tax - bookingState.discountAmount;
        
        document.getElementById('confirm-total').textContent = formatCurrency(total);
    };

    const updateSuccessScreen = () => {
        const room = rooms.find(r => r.type === bookingState.roomType);
        
        document.getElementById('success-room-type').textContent = room.name;
        document.getElementById('success-checkin').textContent = formatDateDisplay(bookingState.checkIn);
        document.getElementById('success-checkout').textContent = formatDateDisplay(bookingState.checkOut);
        
        const subtotal = bookingState.roomPrice * bookingState.nights;
        const tax = subtotal * 0.1;
        const total = subtotal + tax - bookingState.discountAmount;
        
        document.getElementById('success-total').textContent = formatCurrency(total);
        
        const randomNum = Math.floor(1000 + Math.random() * 9000);
        document.getElementById('booking-code').textContent = `AUR-${new Date().getFullYear()}-${randomNum}`;
    };

    // Navigation Functions
    const goToStep = stepNumber => {
        // Hide all steps
        document.querySelectorAll('.step-content').forEach(step => step.classList.remove('active'));
        
        // Show current step
        document.getElementById(`step-${stepNumber}`).classList.add('active');
        
        // Update step indicators
        document.querySelectorAll('.step').forEach(step => {
            const stepNum = parseInt(step.dataset.step);
            step.classList.remove('active', 'completed');
            
            if (stepNum === stepNumber) step.classList.add('active');
            else if (stepNum < stepNumber) step.classList.add('completed');
        });
        
        bookingState.currentStep = stepNumber;
        
        if (stepNumber === 3) updateConfirmationDetails();
        if (stepNumber === 4) updateSuccessScreen();
    };

    const validateForm = () => {
        const requiredFields = [elements.firstName, elements.lastName, elements.email, elements.phone];
        
        for (const field of requiredFields) {
            if (!field.value.trim()) {
                alert('Harap isi semua field yang wajib diisi!');
                field.focus();
                return false;
            }
        }
        
        if (!elements.email.value.includes('@') || !elements.email.value.includes('.')) {
            alert('Format email tidak valid!');
            elements.email.focus();
            return false;
        }
        
        return true;
    };

    const resetForm = () => {
        // Reset form fields
        elements.firstName.value = '';
        elements.lastName.value = '';
        elements.email.value = '';
        elements.phone.value = '';
        elements.specialRequests.value = '';
        
        // Reset room selection
        document.querySelectorAll('.room-option').forEach((option, index) => {
            option.classList.toggle('selected', index === 0);
        });
        
        // Reset booking state
        bookingState.roomType = "superior";
        bookingState.roomPrice = 2500000;
        bookingState.adults = 2;
        bookingState.children = 0;
        
        // Reset date inputs
        const today = new Date();
        const tomorrow = new Date(today);
        tomorrow.setDate(tomorrow.getDate() + 1);
        
        elements.checkin.value = formatDate(today);
        elements.checkout.value = formatDate(tomorrow);
        bookingState.checkIn = formatDate(today);
        bookingState.checkOut = formatDate(tomorrow);
        
        // Reset guest selects
        elements.adults.value = 2;
        elements.children.value = 0;
        
        // Update summary
        updateBookingSummary();
    };

    // Event Listeners
    const setupEventListeners = () => {
        // Date and guest changes
        elements.checkin.addEventListener('change', () => {
            bookingState.checkIn = elements.checkin.value;
            updateBookingSummary();
        });
        
        elements.checkout.addEventListener('change', () => {
            bookingState.checkOut = elements.checkout.value;
            updateBookingSummary();
        });
        
        elements.adults.addEventListener('change', () => {
            bookingState.adults = parseInt(elements.adults.value);
        });
        
        elements.children.addEventListener('change', () => {
            bookingState.children = parseInt(elements.children.value);
        });
        
        // Step navigation
        document.getElementById('next-to-step-2').addEventListener('click', () => goToStep(2));
        document.getElementById('back-to-step-1').addEventListener('click', () => goToStep(1));
        document.getElementById('next-to-step-3').addEventListener('click', () => validateForm() && goToStep(3));
        document.getElementById('back-to-step-2').addEventListener('click', () => goToStep(2));
        document.getElementById('next-to-step-4').addEventListener('click', () => goToStep(4));
        
        // Success screen buttons
        document.getElementById('print-receipt').addEventListener('click', () => window.print());
        document.getElementById('new-booking').addEventListener('click', () => {
            resetForm();
            goToStep(1);
        });
    };

    // Initialize Page
    const initPage = () => {
        // Set default dates
        const today = new Date();
        const tomorrow = new Date(today);
        tomorrow.setDate(tomorrow.getDate() + 1);
        
        elements.checkin.value = formatDate(today);
        elements.checkout.value = formatDate(tomorrow);
        bookingState.checkIn = formatDate(today);
        bookingState.checkOut = formatDate(tomorrow);
        
        // Generate room options and setup event listeners
        generateRoomOptions();
        setupEventListeners();
        updateBookingSummary();
    };

    // Start when page loads
    document.addEventListener('DOMContentLoaded', initPage);
</script>
</body>
</html>